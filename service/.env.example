# Reptile Habitat Automation System - Environment Configuration
# Copy this file to .env and update with your values

# ═══════════════════════════════════════════════════════════════════
# MongoDB Configuration
# ═══════════════════════════════════════════════════════════════════
# Local MongoDB:
# MONGODB_URI=mongodb://localhost:27017

# MongoDB Atlas (cloud):
MONGODB_URI=mongodb+srv://username:<db_password>@cluster.mjehlqb.mongodb.net/?appName=reptilia
MONGODB_DATABASE=reptilia

# ═══════════════════════════════════════════════════════════════════
# Location Settings (for sunrise/sunset DAY/NIGHT mode)
# ═══════════════════════════════════════════════════════════════════
HABITAT_LATITUDE=40.7128       # Your latitude (default: NYC)
HABITAT_LONGITUDE=-74.0060     # Your longitude
HABITAT_TIMEZONE=America/New_York

# ═══════════════════════════════════════════════════════════════════
# Sensor Connection Settings (global defaults)
# ═══════════════════════════════════════════════════════════════════
SENSOR_CONNECTION_TIMEOUT=30.0
SENSOR_MAX_RETRIES=3
SENSOR_RETRY_DELAY=2.0

# ═══════════════════════════════════════════════════════════════════
# Polling Configuration
# ═══════════════════════════════════════════════════════════════════
# Interval between sensor readings and control checks (in seconds)
POLLING_INTERVAL_SECONDS=30

# ═══════════════════════════════════════════════════════════════════
# Logging Configuration (for Docker deployment)
# ═══════════════════════════════════════════════════════════════════
# Set LOG_FILE to enable file logging (used by API for iPad log streaming)
# In Docker, this is set automatically via docker-compose
# LOG_FILE=/app/logs/service.log

# ═══════════════════════════════════════════════════════════════════
# HARDWARE CONFIGURATION
# ═══════════════════════════════════════════════════════════════════
#
# Sensor BLE addresses and power strip configuration are now stored
# in MongoDB as part of each habitat document, not in environment variables.
#
# Use the API to create/update habitats with hardware configuration:
#
# POST /habitats
# {
#   "habitat_id": "my-habitat",
#   "name": "My Reptile Enclosure",
#   "species": "leopard_gecko",
#   "sensor_config": {
#     "basking_temp": "basking-temp-sensor",
#     "cool_temp": "cool-temp-sensor",
#     "humidity": "basking-temp-sensor"
#   },
#   "outlet_config": {
#     "heat_lamp": "basking-heat-lamp",
#     "ceramic_heater": "ambient-heater",
#     "humidifier": "humidifier",
#     "uvb": "uvb-light"
#   },
#   "sensors": [
#     {
#       "sensor_id": "basking-temp-sensor",
#       "ble_address": "A4:C1:38:XX:XX:XX",
#       "location": "warm_side",
#       "device_type": "LYWSD03MMC"
#     },
#     {
#       "sensor_id": "cool-temp-sensor",
#       "ble_address": "A4:C1:38:YY:YY:YY",
#       "location": "cool_side",
#       "device_type": "LYWSD03MMC"
#     }
#   ],
#   "power_strip": {
#     "strip_id": "strip-001",
#     "ip": "192.168.1.100",
#     "username": "user@example.com",
#     "password": "password",
#     "outlets": [
#       {"outlet_id": "basking-heat-lamp", "plug_number": 1},
#       {"outlet_id": "ambient-heater", "plug_number": 2},
#       {"outlet_id": "humidifier", "plug_number": 3},
#       {"outlet_id": "uvb-light", "plug_number": 4}
#     ]
#   }
# }
